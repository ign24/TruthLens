import{d as y,r as o,o as T,a as S,A as b,c as v,i as n,e as d,w as m,T as g,C as U,f as p,p as w,n as f,g as C,_ as x}from"./index-DGDlsRBV.js";const B=""+new URL("listen_start-D2unHACn.wav",import.meta.url).href,N=""+new URL("speak_start-CPU6wXwn.mp3",import.meta.url).href,D=""+new URL("speech-CNGeBNMG.mp3",import.meta.url).href,R={class:"voice-assistant-page"},I={class:"voice-assistant-container"},E={class:"voice-disc"},q=["disabled","aria-label"],G={class:"voice-state-label",key:"state-label"},P={key:0},z={key:1},H=y({__name:"VoiceAssistant",setup(X){const u=o(!1),a=o(!1),e=o(!1),l=o(!1),r=o(!1),i=o("");o("disconnected");let c=null;const k=()=>l.value?"Connecting to voice assistant":a.value?"Listening - Click to stop":e.value?"AI is speaking":"Start voice conversation",A=async()=>{{if(a.value||e.value||l.value)return;a.value=!0,u.value=!0,i.value="Listening... Click to stop",setTimeout(()=>{a.value=!1,u.value=!1,i.value="Processing your message...",setTimeout(()=>{e.value=!0,i.value="AI is responding...";const s=new Audio(D);s.volume=1,s.onended=()=>{e.value=!1,i.value=""},s.onerror=()=>{e.value=!1,i.value=""},s.play()},1500)},9e3);return}},L=s=>{r.value=!0,i.value=s,a.value=!1,e.value=!1,l.value=!1,u.value=!1,setTimeout(()=>{r.value&&(r.value=!1,i.value="")},5e3)},M=()=>{!a.value&&!e.value&&l.value},_=()=>{},V=()=>{c&&c.state!=="inactive"&&c.stop(),c=null};T(()=>{(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)&&L("Voice features not supported in this browser")}),S(()=>{V()});const h=s=>{const t=new Audio(s);t.volume=.7,t.play()};return b(a,(s,t)=>{s&&!t&&h(B)}),b(e,(s,t)=>{s&&!t&&h(N)}),(s,t)=>(p(),v("div",R,[n("div",I,[d(g,{name:"fade-slide-down",appear:""},{default:m(()=>t[0]||(t[0]=[n("div",{class:"voice-assistant-title"},[n("h1",{class:"main-title"},"TruthLens Voice Agent"),n("p",{class:"subtitle"},[w("Chat with "),n("span",{class:"gradient-text"},"Clara"),w(". Your real-time multilingual AI from TruthLens.")])],-1)])),_:1}),d(g,{name:"scale-fade",appear:""},{default:m(()=>[n("div",{class:f(["voice-button-wrapper",{active:u.value,listening:a.value,speaking:e.value}])},[n("div",E,[n("div",{class:f(["disc-gradient",a.value||e.value?"disc-gradient-bright":""])},null,2),t[1]||(t[1]=n("div",{class:"disc-shine"},null,-1))]),n("button",{onClick:A,onMousedown:M,onMouseup:_,onMouseleave:_,disabled:l.value,class:f(["voice-button",{listening:a.value,speaking:e.value,connecting:l.value,error:r.value}]),"aria-label":k()},[n("span",{class:f(["liquid-blob",a.value||e.value?"liquid-blob-active":""])},null,2)],42,q)],2)]),_:1}),d(g,{name:"state-fade-slide",mode:"out-in"},{default:m(()=>[a.value||e.value?(p(),v("div",G,[a.value?(p(),v("span",P,"Listening")):e.value?(p(),v("span",z,"Responding")):C("",!0)])):C("",!0)]),_:1})]),d(U)]))}}),j=x(H,[["__scopeId","data-v-e25e573c"]]);export{j as default};
